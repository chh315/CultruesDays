<!DOCTYPE html>
<html layout:decorator="layouts/default">
<head>
<title>Task List</title>
</head>
<body>
	<!-- /* Content of this page will be decorated by the elements of layout.html (task/layout) */ -->
	<div layout:fragment="content">
 		<div class="row">
 			<div class="col-md-6">
				<div class="page-header">
					<h2>访问记录</h2>
					<p>注意，请确认该房源真实信息后再填写！</p>
				</div>
				<div class="table-responsive">          
				  	<table class="table">
				    	<thead>
				      		<tr>
				        		<th>#</th>
				        		<th>访问手段</th>
				        		<th>日期</th>
				        		<th>内容</th>
				      		</tr>
				    	</thead>
				    	<tbody>
				      		<tr th:each="note:${accessNotes}">
				        		<td th:text="${noteStat.count}">1</td>
				        		<td th:text="${note.method}">Anna</td>
				        		<td th:text="${note.date}">Anna</td>
				        		<td th:text="${note.content}">Anna</td>
				      		</tr>
				    	</tbody>
				  	</table>
				</div>
				<form id="access-form" class="form-horizontal" method="post"  th:replace="fragments/forms :: access-form">
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="method">手段<span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" id="accessmethod" name="method" type="text" th:field="*{method}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2" for="date">时间<span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" type="text" id="date" name="date" th:field="*{date}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2" for="content">内容<span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<textarea class="form-control" cols="40" id="content" name="content" rows="10" th:field="*{content}" />
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-10 col-sm-offset-2">
							<button class="btn btn-danger " name="submit" type="submit">保存</button>
						</div>
					</div>
				</form>
				
<!-- 				<div id="myCarousel" class="carousel slide" data-ride="carousel"> -->
<!-- 				  	Indicators -->
<!-- 				  	<ol class="carousel-indicators"> -->
<!-- 					    <li data-target="#myCarousel" data-slide-to="0" class="active"></li> -->
<!-- 					    <li data-target="#myCarousel" data-slide-to="1"></li> -->
<!-- 					    <li data-target="#myCarousel" data-slide-to="2"></li> -->
<!-- 				  	</ol> -->
				
<!-- 				 	 Wrapper for slides -->
<!-- 				  	<div class="carousel-inner"> -->
<!-- 				    <div class="item active"> -->
<!-- 				      	<img src="la.jpg" alt="Chania"/> -->
<!-- 				      	<div class="carousel-caption"> -->
<!-- 					        <h3>Los Angeles</h3> -->
<!-- 					        <p>LA is always so much fun!</p> -->
<!-- 				      	</div> -->
<!-- 				    </div> -->
				
<!-- 				    <div class="item"> -->
<!-- 				      	<img src="chicago.jpg" alt="Chicago"/> -->
<!-- 				      	<div class="carousel-caption"> -->
<!-- 				        	<h3>Chicago</h3> -->
<!-- 				        	<p>Thank you, Chicago!</p> -->
<!-- 				      	</div> -->
<!-- 				    </div> -->
				
<!-- 				    <div class="item"> -->
<!-- 				      	<img src="ny.jpg" alt="New York"/> -->
<!-- 				      	<div class="carousel-caption"> -->
<!-- 				        	<h3>New York</h3> -->
<!-- 				        	<p>We love the Big Apple!</p> -->
<!-- 				      	</div> -->
<!-- 				    </div> -->
<!-- 				</div> -->
				
<!-- 				  Left and right controls -->
<!-- 			  	<a class="left carousel-control" href="#myCarousel" data-slide="prev"> -->
<!-- 				    <span class="glyphicon glyphicon-chevron-left"></span> -->
<!-- 				    <span class="sr-only">Previous</span> -->
<!-- 			  	</a> -->
<!-- 			  	<a class="right carousel-control" href="#myCarousel" data-slide="next"> -->
<!-- 				    <span class="glyphicon glyphicon-chevron-right"></span> -->
<!-- 				    <span class="sr-only">Next</span> -->
<!-- 			  	</a> -->
<!-- 			</div> -->
			</div>
			<div class="col-md-6">
				<div class="page-header">
					<h2>录入到我的房源</h2>
					<p>注意，请确认该房源真实信息后再填写！</p>
				</div>
				<form class="form-horizontal" method="post" th:action="@{/mylisting}" th:object="${listingForm}">
<!-- 					<div class="form-group"> -->
<!-- 						<div class="col-sm-10 col-sm-offset-2"> -->
<!-- 							<button class="btn btn-danger " name="submit" type="submit">保存</button> -->
<!-- 						</div> -->
<!-- 					</div> -->
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="name">名称 <span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" id="name" name="name" type="text" th:field="*{name}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="district">小区 <span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" id="district" name="district" type="text" th:field="*{district}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="address">地址 <span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" id="address" name="address" type="text" th:field="*{address}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="floors"> 楼层 <span class="asteriskField"> * </span></label>
						<div class="col-sm-4">
							<input class="form-control" id="floors" name="floors" type="text" th:field="*{floors}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="construction"> 户型 <span class="asteriskField"> * </span></label>
						<div class="col-sm-4">
							<input class="form-control" id="construction" name="construction" type="text" th:field="*{construction}"/>
						</div>
						<label class="control-label col-sm-2 requiredField" for="orient"> 朝向 <span class="asteriskField"> * </span></label>
						<div class="col-sm-4">
							<input class="form-control" id="orient" name="orient" type="text" th:field="*{orient}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="rent">租金 <span class="asteriskField"> * </span></label>
						<div class="col-sm-4">
							<div class="input-group">
								<input class="form-control" id="rent" name="rent" type="text" th:field="*{rent}"/>
								<div class="input-group-addon">元／月</div>
							</div>
						</div>
						<label class="control-label col-sm-2 requiredField" for="area">面积 <span class="asteriskField"> * </span></label>
						<div class="col-sm-4">
							<div class="input-group">
								<input class="form-control" id="area" name="area" type="text" th:field="*{area}"/>
								<div class="input-group-addon">平方米</div>
							</div>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="owner">联系人 <span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" id="owner" name="owner" type="text" th:field="*{owner}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2 requiredField" for="tel">电话 <span class="asteriskField"> * </span></label>
						<div class="col-sm-10">
							<input class="form-control" id="telephone" name="telephone" type="text" th:field="*{telephone}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2" for="otherContact">其他联络方式 </label>
						<div class="col-sm-10">
							<input class="form-control" id="otherContact" name="otherContact" type="text" th:field="*{otherContact}"/>
						</div>
					</div>
					<div class="form-group ">
						<label class="control-label col-sm-2" for="sitediscription">房源描述 </label>
						<div class="col-sm-10">
							<textarea class="form-control" cols="40" id="sitediscription" name="sitediscription" rows="10" th:field="*{sitediscription}"></textarea>
						</div>
					</div>
					<div class="form-group">
						<div class="col-sm-10 col-sm-offset-2">
							<button class="btn btn-danger " name="submit" type="submit">保存</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<script type="text/javascript" layout:fragment="customjs">
	(function($){
	  	var $form = $('#access-form');
	  	$form.on('submit', function(e) {
	    	e.preventDefault();
	    	$.ajax({
		      	url: $form.attr('action'),
		      	type: 'post',
		      	data: $form.serialize(),
		      	success: function(response) {
			        // if the response contains any errors, replace the form
			        if ($(response).find('.has-error').length) {
			          	$form.replaceWith(response);
			        } else {
			          // in this case we can actually replace the form
			          // with the response as well, unless we want to 
			          // show the success message a different way
			        }
				}
	 		});
	  	});
	}(jQuery));
	</script>
</body>
</html>